"use strict";var mongoose=require("mongoose");mongoose.Promise=global.Promise;var slug=require("slug"),shortid=require("shortId"),vacantesSchema=new mongoose.Schema({titulo:{type:String,required:"El nombre de la vacante es obligatorio",trim:!0},empresa:{type:String,trim:!0},ubicacion:{type:String,trim:!0,required:"La ubicaci√≥n es obligatoria"},salario:{type:String,default:0,trim:!0},contrato:{type:String,trim:!0},descripcion:{type:String,trim:!0},url:{type:String,lowercase:!0},skills:[String],candidatos:[{nombre:String,email:String,cv:String}],autor:{type:mongoose.Schema.ObjectId,ref:"Usuarios",required:"El autor es obligatorio"}});vacantesSchema.pre("save",function(e){var t=slug(this.titulo);this.url="".concat(t,"-").concat(shortid.generate()),e()}),vacantesSchema.index({titulo:"text"}),module.exports=mongoose.model("Vacante",vacantesSchema);