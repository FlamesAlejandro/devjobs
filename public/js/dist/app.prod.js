"use strict";var _axios=_interopRequireDefault(require("axios")),_sweetalert=_interopRequireDefault(require("sweetalert2"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector(".lista-conocimientos");document.querySelector(".alertas")&&limpiarAlertas(),e&&(e.addEventListener("click",agregarSkills),skillsSeleccionados());var t=document.querySelector(".panel-administracion");t&&t.addEventListener("click",accionesListado)});var skills=new Set,agregarSkills=function(e){"LI"===e.target.tagName&&(e.target.classList.contains("activo")?(skills.delete(e.target.textContent),e.target.classList.remove("activo")):(skills.add(e.target.textContent),e.target.classList.add("activo")));var t=_toConsumableArray(skills);document.querySelector("#skills").value=t},skillsSeleccionados=function(){document.querySelectorAll(".lista-conocimientos .activo").forEach(function(e){skills.add(e.textContent)});var e=_toConsumableArray(skills);document.querySelector("#skills").value=e},limpiarAlertas=function(){var e=document.querySelector(".alertas"),t=setInterval(function(){0<e.children.length?e.removeChild(e.children[0]):0===e.children.length&&(e.parentElement.removeChild(e),clearInterval(t))})},accionesListado=function(r){r.preventDefault(),r.target.dataset.eliminar?_sweetalert.default.fire({title:"Confirmar",text:"No podras revertir esto",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si eliminar",cancelButtonText:"No cancelar"}).then(function(e){if(e.value){var t="".concat(location.origin,"/vacantes/eliminar/").concat(r.target.dataset.eliminar);_axios.default.delete(t,{params:{url:t}}).then(function(e){200===e.status&&(_sweetalert.default.fire("Eliminado!",e.data,"success"),r.target.parentElement.parentElement.parentElement.removeChild(r.target.parentElement.parentElement))}).catch(function(){_sweetalert.default.fire({type:"error",title:"Hubo un error",text:" No se pudo eliminar"})})}}):"A"===r.target.tagName&&(window.location.href=r.target.href)};